<link rel="stylesheet" href="css/travel-main.css">
<link rel="stylesheet" href="css/trip-bar.css">

<%- include("navbar.ejs") %>
<div class="trip-name" data-expenses="<%= JSON.stringify(trip_expenses) %>">
    <form id="back-form" action="/logged" method="post">
        <button id="back-btn" type="submit"><</button>
    </form>
    <div id="title"> <%= trip_name %></div>
</div>
<div id="body">
    <div id="overview-label" class="label">Overview -</div>
    <div id="chart-field">
        <canvas id="myChart" aria-label="chart" role="img"></canvas>
    </div>
    <form action="/add-expense" method="post">
        <button id="new-expense-btn" class="btn default" type="submit">Add Expense</button>
    </form>
    <div id="latest-label" class="label">Latest Expenses -</div>
    <% if (lat_exp.length == 0){%>
        <div id="empty">No expenses for now!</div>
        <div id="empty"><img class="img_no_debt" src="media/no-debt.png"></div>
    <%}%>
    <div id="latest-field">
        <% for (let i=0; i<lat_exp.length; i++){%>
        <div id="expense">
            <div id="category-icon"><img class="category_icon" src="media/<%=lat_exp[i][0]%>.png"></div>
            <div id="amount"><%=lat_exp[i][1]%> $</div>
            <div id="name"><%=lat_exp[i][2]%></div>
            <div id="date"><%=lat_exp[i][3]%></div>
        </div>
        <%}%>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
<script src="js/travel-main.js"></script>